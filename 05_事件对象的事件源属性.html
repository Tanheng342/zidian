<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        #div1 {
            width: 200px;height: 200px;
            background: #CCC;
        }
        #div2 {
            width: 100px;height: 100px;
            background: #f00;
        }

    </style>
</head>
<body>
    <div id="div1">
        <div id="div2"></div>
    </div>
    <input type="button" id="btn" value="测试">
    <script>
        window.onload = function (){
            $('#div1').onclick = function (e){
                var evt = e || window.event;

                // 通过事件对象的target属性, 可以获取到事件的事件源
                //  属性值: DOM对象
                //  事件源: 触发事件的最具体的那个元素
                // console.log(evt.target);

                //  注意: 在IE8及以下, 事件对象没有target属性
                //    在IE8下想获取到事件源需使用事件对象的srcElement属性
                // console.log(evt.srcElement);

                // 所以通过事件对象获取事件源也要做兼容性处理
                var target = evt.target || evt.srcElement;

                console.log(target);
            };
            $('#div2').onclick = function (e){

                console.log('div2 is clicked');
            };
        };

        function $(selector, root){
            if(!root){
                root = document;
            }
            var starter = selector.charAt(0); // 获取选择器的第一个字符
            if(starter == "#"){
                return document.getElementById(selector.substring(1));
            } else if(starter == "."){
                return root.getElementsByClassName(selector.substring(1));
            } else {
                return root.getElementsByTagName(selector);
            }
        }
    </script>
</body>
</html>